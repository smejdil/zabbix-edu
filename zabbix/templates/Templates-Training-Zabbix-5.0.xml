<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>5.0</version>
    <date>2021-11-08T20:29:13Z</date>
    <groups>
        <group>
            <name>Templates/Training</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Template-Training</template>
            <name>Template-Training</name>
            <groups>
                <group>
                    <name>Templates/Training</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Training</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Zabbix DB size</name>
                    <type>ODBC</type>
                    <key>db.odbc.select[zabbix.dbsize,zabbix]</key>
                    <units>B</units>
                    <params>select SUM(data_length) from information_schema.tables where table_schema = 'zabbix'</params>
                    <username>zbx_probe</username>
                    <password>{$ZBX_PROBE_MYSQL_PASS}</password>
                    <applications>
                        <application>
                            <name>Training</name>
                        </application>
                    </applications>
                </item>
            </items>
            <tags>
                <tag>
                    <tag>Template</tag>
                    <value>Training</value>
                </tag>
            </tags>
            <macros>
                <macro>
                    <macro>{$SSH_USER_PASS}</macro>
                    <type>SECRET_TEXT</type>
                    <description>User pass zbx_probe (cat /root/zbx_probe.pw)</description>
                </macro>
                <macro>
                    <macro>{$ZBX_PROBE_MYSQL_PASS}</macro>
                    <type>SECRET_TEXT</type>
                    <description>MySQL user pass zbx_probe (cat /root/mysql-zbx_probe.pw)</description>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template-Training_App_Apache_Tomcat_JMX</template>
            <name>Template-Training_App_Apache_Tomcat_JMX</name>
            <description>The template to monitor Apache Tomcat by Zabbix that work without any external scripts.&#13;
The metrics are collected by JMX.&#13;
&#13;
&#13;
You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/411862-discussion-thread-for-official-zabbix-template-tomcat&#13;
&#13;
Template tooling version used: 0.38</description>
            <groups>
                <group>
                    <name>Templates/Training</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Tomcat</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Tomcat: Version</name>
                    <type>JMX</type>
                    <key>jmx[&quot;Catalina:type=Server&quot;,serverInfo]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <username>{$TOMCAT.USER}</username>
                    <password>{$TOMCAT.PASSWORD}</password>
                    <description>The version of the Tomcat.</description>
                    <applications>
                        <application>
                            <name>Tomcat</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>1d</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                    <triggers>
                        <trigger>
                            <expression>{diff()}=1 and {strlen()}&gt;0</expression>
                            <name>Tomcat: Version has been changed</name>
                            <priority>INFO</priority>
                            <description>Tomcat version has changed. Ack to close.</description>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>Protocol handlers discovery</name>
                    <type>JMX</type>
                    <key>jmx.discovery[attributes,&quot;Catalina:type=ProtocolHandler,port=*&quot;]</key>
                    <delay>1h</delay>
                    <status>DISABLED</status>
                    <username>{$TOMCAT.USER}</username>
                    <password>{$TOMCAT.PASSWORD}</password>
                    <filter>
                        <evaltype>AND</evaltype>
                        <conditions>
                            <condition>
                                <macro>{#JMXATTR}</macro>
                                <value>^name$</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Discovery for ProtocolHandler</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#JMXVALUE}: Gzip compression status</name>
                            <type>JMX</type>
                            <key>jmx[{#JMXOBJ},compression]</key>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <username>{$TOMCAT.USER}</username>
                            <password>{$TOMCAT.PASSWORD}</password>
                            <description>Gzip compression status on {#JMXNAME}. Enabling gzip compression may save server bandwidth.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Tomcat: ProtocolHandler {#JMXVALUE}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>1h</params>
                                </step>
                            </preprocessing>
                            <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{str(off)} = 1</expression>
                                    <name>{#JMXVALUE}: Gzip compression is disabled</name>
                                    <priority>INFO</priority>
                                    <description>gzip compression is disabled for connector {#JMXVALUE}.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </discovery_rule>
                <discovery_rule>
                    <name>Global request processors discovery</name>
                    <type>JMX</type>
                    <key>jmx.discovery[beans,&quot;Catalina:type=GlobalRequestProcessor,name=*&quot;]</key>
                    <delay>1h</delay>
                    <username>{$TOMCAT.USER}</username>
                    <password>{$TOMCAT.PASSWORD}</password>
                    <filter>
                        <evaltype>AND</evaltype>
                        <conditions>
                            <condition>
                                <macro>{#JMXNAME}</macro>
                                <value>{$TOMCAT.LLD.FILTER.MATCHES:&quot;GlobalRequesProcessor&quot;}</value>
                                <formulaid>A</formulaid>
                            </condition>
                            <condition>
                                <macro>{#JMXNAME}</macro>
                                <value>{$TOMCAT.LLD.FILTER.NOT_MATCHES:&quot;GlobalRequesProcessor&quot;}</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>B</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Discovery for GlobalRequesProcessor</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#JMXNAME}: Bytes received per second</name>
                            <type>JMX</type>
                            <key>jmx[{#JMXOBJ},bytesReceived]</key>
                            <history>7d</history>
                            <units>B</units>
                            <username>{$TOMCAT.USER}</username>
                            <password>{$TOMCAT.PASSWORD}</password>
                            <description>Bytes received rate by processor {#JMXNAME}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Tomcat: {#JMXTYPE} {#JMXNAME}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                            <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                        </item_prototype>
                        <item_prototype>
                            <name>{#JMXNAME}: Bytes sent per second</name>
                            <type>JMX</type>
                            <key>jmx[{#JMXOBJ},bytesSent]</key>
                            <history>7d</history>
                            <units>B</units>
                            <username>{$TOMCAT.USER}</username>
                            <password>{$TOMCAT.PASSWORD}</password>
                            <description>Bytes sent rate by processor {#JMXNAME}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Tomcat: {#JMXTYPE} {#JMXNAME}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                            <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                        </item_prototype>
                        <item_prototype>
                            <name>{#JMXNAME}: Errors per second</name>
                            <type>JMX</type>
                            <key>jmx[{#JMXOBJ},errorCount]</key>
                            <history>7d</history>
                            <username>{$TOMCAT.USER}</username>
                            <password>{$TOMCAT.PASSWORD}</password>
                            <description>Error rate of request processor {#JMXNAME}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Tomcat: {#JMXTYPE} {#JMXNAME}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                            <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                        </item_prototype>
                        <item_prototype>
                            <name>{#JMXNAME}: Requests processing time</name>
                            <type>JMX</type>
                            <key>jmx[{#JMXOBJ},processingTime]</key>
                            <history>7d</history>
                            <units>s</units>
                            <username>{$TOMCAT.USER}</username>
                            <password>{$TOMCAT.PASSWORD}</password>
                            <description>The total time to process all incoming requests of request processor {#JMXNAME}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Tomcat: {#JMXTYPE} {#JMXNAME}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>0.001</params>
                                </step>
                            </preprocessing>
                            <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                        </item_prototype>
                        <item_prototype>
                            <name>{#JMXNAME}: Requests per second</name>
                            <type>JMX</type>
                            <key>jmx[{#JMXOBJ},requestCount]</key>
                            <history>7d</history>
                            <username>{$TOMCAT.USER}</username>
                            <password>{$TOMCAT.PASSWORD}</password>
                            <description>Rate of requests served by request processor {#JMXNAME}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Tomcat: {#JMXTYPE} {#JMXNAME}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                            <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>{#JMXNAME}: Traffic</name>
                            <graph_items>
                                <graph_item>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>1A7C11</color>
                                    <item>
                                        <host>Template-Training_App_Apache_Tomcat_JMX</host>
                                        <key>jmx[{#JMXOBJ},bytesSent]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>2774A4</color>
                                    <item>
                                        <host>Template-Training_App_Apache_Tomcat_JMX</host>
                                        <key>jmx[{#JMXOBJ},bytesReceived]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </discovery_rule>
                <discovery_rule>
                    <name>Contexts discovery</name>
                    <type>JMX</type>
                    <key>jmx.discovery[beans,&quot;Catalina:type=Manager,host=*,context=*&quot;]</key>
                    <delay>1h</delay>
                    <username>{$TOMCAT.USER}</username>
                    <password>{$TOMCAT.PASSWORD}</password>
                    <filter>
                        <evaltype>AND</evaltype>
                        <conditions>
                            <condition>
                                <macro>{#JMXHOST}</macro>
                                <value>{$TOMCAT.LLD.FILTER.MATCHES:&quot;Manager&quot;}</value>
                                <formulaid>A</formulaid>
                            </condition>
                            <condition>
                                <macro>{#JMXHOST}</macro>
                                <value>{$TOMCAT.LLD.FILTER.NOT_MATCHES:&quot;Manager&quot;}</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>B</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Discovery for contexts</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#JMXHOST}{#JMXCONTEXT}: Sessions active</name>
                            <type>JMX</type>
                            <key>jmx[{#JMXOBJ},activeSessions]</key>
                            <history>7d</history>
                            <username>{$TOMCAT.USER}</username>
                            <password>{$TOMCAT.PASSWORD}</password>
                            <description>Active sessions of the application.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Tomcat: Context {#JMXHOST}{#JMXCONTEXT}</name>
                                </application_prototype>
                            </application_prototypes>
                            <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                        </item_prototype>
                        <item_prototype>
                            <name>{#JMXHOST}{#JMXCONTEXT}: Sessions allowed maximum</name>
                            <type>JMX</type>
                            <key>jmx[{#JMXOBJ},maxActiveSessions]</key>
                            <history>7d</history>
                            <value_type>FLOAT</value_type>
                            <username>{$TOMCAT.USER}</username>
                            <password>{$TOMCAT.PASSWORD}</password>
                            <description>The maximum number of active Sessions allowed, or -1 for no limit.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Tomcat: Context {#JMXHOST}{#JMXCONTEXT}</name>
                                </application_prototype>
                            </application_prototypes>
                            <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                        </item_prototype>
                        <item_prototype>
                            <name>{#JMXHOST}{#JMXCONTEXT}: Sessions active maximum so far</name>
                            <type>JMX</type>
                            <key>jmx[{#JMXOBJ},maxActive]</key>
                            <history>7d</history>
                            <username>{$TOMCAT.USER}</username>
                            <password>{$TOMCAT.PASSWORD}</password>
                            <description>Maximum number of active sessions so far.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Tomcat: Context {#JMXHOST}{#JMXCONTEXT}</name>
                                </application_prototype>
                            </application_prototypes>
                            <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                        </item_prototype>
                        <item_prototype>
                            <name>{#JMXHOST}{#JMXCONTEXT}: Sessions rejected per second</name>
                            <type>JMX</type>
                            <key>jmx[{#JMXOBJ},rejectedSessions]</key>
                            <history>7d</history>
                            <username>{$TOMCAT.USER}</username>
                            <password>{$TOMCAT.PASSWORD}</password>
                            <description>Rate of sessions we rejected due to maxActive being reached.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Tomcat: Context {#JMXHOST}{#JMXCONTEXT}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                            <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                        </item_prototype>
                        <item_prototype>
                            <name>{#JMXHOST}{#JMXCONTEXT}: Sessions created per second</name>
                            <type>JMX</type>
                            <key>jmx[{#JMXOBJ},sessionCounter]</key>
                            <history>7d</history>
                            <username>{$TOMCAT.USER}</username>
                            <password>{$TOMCAT.PASSWORD}</password>
                            <description>Rate of sessions created by this application per second.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Tomcat: Context {#JMXHOST}{#JMXCONTEXT}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                            <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>{#JMXHOST}{#JMXCONTEXT}: Sessions</name>
                            <graph_items>
                                <graph_item>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>1A7C11</color>
                                    <item>
                                        <host>Template-Training_App_Apache_Tomcat_JMX</host>
                                        <key>jmx[{#JMXOBJ},maxActive]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>2774A4</color>
                                    <item>
                                        <host>Template-Training_App_Apache_Tomcat_JMX</host>
                                        <key>jmx[{#JMXOBJ},activeSessions]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>2</sortorder>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>F63100</color>
                                    <item>
                                        <host>Template-Training_App_Apache_Tomcat_JMX</host>
                                        <key>jmx[{#JMXOBJ},rejectedSessions]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>3</sortorder>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>A54F10</color>
                                    <item>
                                        <host>Template-Training_App_Apache_Tomcat_JMX</host>
                                        <key>jmx[{#JMXOBJ},maxActiveSessions]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </discovery_rule>
                <discovery_rule>
                    <name>Thread pools discovery</name>
                    <type>JMX</type>
                    <key>jmx.discovery[beans,&quot;Catalina:type=ThreadPool,name=*&quot;]</key>
                    <delay>1h</delay>
                    <username>{$TOMCAT.USER}</username>
                    <password>{$TOMCAT.PASSWORD}</password>
                    <filter>
                        <evaltype>AND</evaltype>
                        <conditions>
                            <condition>
                                <macro>{#JMXNAME}</macro>
                                <value>{$TOMCAT.LLD.FILTER.MATCHES:&quot;ThreadPool&quot;}</value>
                                <formulaid>A</formulaid>
                            </condition>
                            <condition>
                                <macro>{#JMXNAME}</macro>
                                <value>{$TOMCAT.LLD.FILTER.NOT_MATCHES:&quot;ThreadPool&quot;}</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>B</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Discovery for ThreadPool</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#JMXNAME}: Threads count</name>
                            <type>JMX</type>
                            <key>jmx[{#JMXOBJ},currentThreadCount]</key>
                            <history>7d</history>
                            <username>{$TOMCAT.USER}</username>
                            <password>{$TOMCAT.PASSWORD}</password>
                            <description>Amount of threads the thread pool has right now, both busy and free.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Tomcat: {#JMXTYPE} {#JMXNAME}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>10m</params>
                                </step>
                            </preprocessing>
                            <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                        </item_prototype>
                        <item_prototype>
                            <name>{#JMXNAME}: Threads busy</name>
                            <type>JMX</type>
                            <key>jmx[{#JMXOBJ},currentThreadsBusy]</key>
                            <history>7d</history>
                            <username>{$TOMCAT.USER}</username>
                            <password>{$TOMCAT.PASSWORD}</password>
                            <description>Number of the requests that are being currently handled.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Tomcat: {#JMXTYPE} {#JMXNAME}</name>
                                </application_prototype>
                            </application_prototypes>
                            <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                        </item_prototype>
                        <item_prototype>
                            <name>{#JMXNAME}: Threads limit</name>
                            <type>JMX</type>
                            <key>jmx[{#JMXOBJ},maxThreads]</key>
                            <history>7d</history>
                            <username>{$TOMCAT.USER}</username>
                            <password>{$TOMCAT.PASSWORD}</password>
                            <description>Limit of the threads count. When currentThreadsBusy counter reaches the maxThreads limit, no more requests could be handled, and the application chokes.</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Tomcat: {#JMXTYPE} {#JMXNAME}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <params>10m</params>
                                </step>
                            </preprocessing>
                            <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>{Template-Training_App_Apache_Tomcat_JMX:jmx[{#JMXOBJ},currentThreadsBusy].min({$TOMCAT.THREADS.MAX.TIME:&quot;{#JMXNAME}&quot;})}&gt;{Template-Training_App_Apache_Tomcat_JMX:jmx[{#JMXOBJ},maxThreads].last()}*{$TOMCAT.THREADS.MAX.PCT:&quot;{#JMXNAME}&quot;}/100</expression>
                            <name>{#JMXNAME}: Busy worker threads count are more than {$TOMCAT.THREADS.MAX.PCT:&quot;{#JMXNAME}&quot;}% of the limit for {$TOMCAT.THREADS.MAX.TIME:&quot;{#JMXNAME}&quot;}</name>
                            <priority>HIGH</priority>
                            <description>When current threads busy counter reaches the limit, no more requests could be handled, and the application chokes.</description>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>{#JMXNAME}: Worker threads</name>
                            <graph_items>
                                <graph_item>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>1A7C11</color>
                                    <item>
                                        <host>Template-Training_App_Apache_Tomcat_JMX</host>
                                        <key>jmx[{#JMXOBJ},maxThreads]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>2774A4</color>
                                    <item>
                                        <host>Template-Training_App_Apache_Tomcat_JMX</host>
                                        <key>jmx[{#JMXOBJ},currentThreadCount]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>2</sortorder>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>F63100</color>
                                    <item>
                                        <host>Template-Training_App_Apache_Tomcat_JMX</host>
                                        <key>jmx[{#JMXOBJ},currentThreadsBusy]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$TOMCAT.LLD.FILTER.MATCHES}</macro>
                    <value>.*</value>
                    <description>Filter for discoverable objects. Can be used with following contexts: &quot;GlobalRequestProcessor&quot;, &quot;ThreadPool&quot;, &quot;Manager&quot;</description>
                </macro>
                <macro>
                    <macro>{$TOMCAT.LLD.FILTER.NOT_MATCHES}</macro>
                    <value>CHANGE IF NEEDED</value>
                    <description>Filter to exclude discovered objects. Can be used with following contexts: &quot;GlobalRequestProcessor&quot;, &quot;ThreadPool&quot;, &quot;Manager&quot;</description>
                </macro>
                <macro>
                    <macro>{$TOMCAT.PASSWORD}</macro>
                    <description>Password for JMX</description>
                </macro>
                <macro>
                    <macro>{$TOMCAT.THREADS.MAX.PCT}</macro>
                    <value>75</value>
                    <description>Threshold for busy worker threads trigger. Can be used with {#JMXNAME} as context.</description>
                </macro>
                <macro>
                    <macro>{$TOMCAT.THREADS.MAX.TIME}</macro>
                    <value>5m</value>
                    <description>The time during which the number of busy threads can exceed the threshold. Can be used with {#JMXNAME} as context.</description>
                </macro>
                <macro>
                    <macro>{$TOMCAT.USER}</macro>
                    <description>User for JMX</description>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template-Training_App_Generic_Java_JMX</template>
            <name>Template-Training_App_Generic_Java_JMX</name>
            <description>Template tooling version used: 0.38</description>
            <groups>
                <group>
                    <name>Templates/Training</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>JMX</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>ClassLoading: Loaded class count</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=ClassLoading&quot;,&quot;LoadedClassCount&quot;]</key>
                    <history>7d</history>
                    <description>Displays number of classes that are currently loaded in the Java virtual machine.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>10m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>ClassLoading: Total loaded class count</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=ClassLoading&quot;,&quot;TotalLoadedClassCount&quot;]</key>
                    <history>7d</history>
                    <description>Displays the total number of classes that have been loaded since the Java virtual machine has started execution.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>10m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>ClassLoading: Unloaded class count</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=ClassLoading&quot;,&quot;UnloadedClassCount&quot;]</key>
                    <history>7d</history>
                    <description>Displays the total number of classes that have been loaded since the Java virtual machine has started execution.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>10m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>Compilation: Name of the current JIT compiler</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=Compilation&quot;,&quot;Name&quot;]</key>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <description>Displays the total number of classes unloaded since the Java virtual machine has started execution.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>30m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                    <triggers>
                        <trigger>
                            <expression>{str(Client)}=1</expression>
                            <name>Compilation: {HOST.NAME} uses suboptimal JIT compiler</name>
                            <priority>INFO</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Compilation: Accumulated time spent</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=Compilation&quot;,&quot;TotalCompilationTime&quot;]</key>
                    <history>7d</history>
                    <value_type>FLOAT</value_type>
                    <units>s</units>
                    <description>Displays the approximate accumulated elapsed time spent in compilation, in seconds.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>0.001</params>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>10m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>GarbageCollector: Copy number of collections per second</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=GarbageCollector,name=Copy&quot;,&quot;CollectionCount&quot;]</key>
                    <history>7d</history>
                    <value_type>FLOAT</value_type>
                    <description>Displays the total number of collections that have occurred per second.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>CHANGE_PER_SECOND</type>
                            <params/>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>GarbageCollector: Copy accumulated time spent in collection</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=GarbageCollector,name=Copy&quot;,&quot;CollectionTime&quot;]</key>
                    <history>7d</history>
                    <value_type>FLOAT</value_type>
                    <units>s</units>
                    <description>Displays the approximate accumulated collection elapsed time, in seconds.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>0.001</params>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>10m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>GarbageCollector: MarkSweepCompact number of collections per second</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=GarbageCollector,name=MarkSweepCompact&quot;,&quot;CollectionCount&quot;]</key>
                    <history>7d</history>
                    <value_type>FLOAT</value_type>
                    <description>Displays the total number of collections that have occurred per second.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>CHANGE_PER_SECOND</type>
                            <params/>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>GarbageCollector: MarkSweepCompact accumulated time spent in collection</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=GarbageCollector,name=MarkSweepCompact&quot;,&quot;CollectionTime&quot;]</key>
                    <history>7d</history>
                    <value_type>FLOAT</value_type>
                    <units>s</units>
                    <description>Displays the approximate accumulated collection elapsed time, in seconds.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>0.001</params>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>10m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>Memory: Heap memory committed</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=Memory&quot;,&quot;HeapMemoryUsage.committed&quot;]</key>
                    <history>7d</history>
                    <units>B</units>
                    <description>Current heap memory allocated. This amount of memory is guaranteed for the Java virtual machine to use.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>Memory: Heap memory maximum size</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=Memory&quot;,&quot;HeapMemoryUsage.max&quot;]</key>
                    <history>7d</history>
                    <units>B</units>
                    <description>Maximum amount of heap that can be used for memory management. This amount of memory is not guaranteed to be available if it is greater than the amount of committed memory. The Java virtual machine may fail to allocate memory even if the amount of used memory does not exceed this maximum size.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>10m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>Memory: Heap memory used</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=Memory&quot;,&quot;HeapMemoryUsage.used&quot;]</key>
                    <history>7d</history>
                    <units>B</units>
                    <description>Current memory usage outside the heap.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>10m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>Memory: Non-Heap memory committed</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=Memory&quot;,&quot;NonHeapMemoryUsage.committed&quot;]</key>
                    <history>7d</history>
                    <units>B</units>
                    <description>Current memory allocated outside the heap. This amount of memory is guaranteed for the Java virtual machine to use.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>10m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>Memory: Non-Heap memory used</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=Memory&quot;,&quot;NonHeapMemoryUsage.used&quot;]</key>
                    <history>7d</history>
                    <units>B</units>
                    <description>Current memory usage outside the heap</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>10m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>Memory: Object pending finalization count</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=Memory&quot;,&quot;ObjectPendingFinalizationCount&quot;]</key>
                    <history>7d</history>
                    <description>The approximate number of objects for which finalization is pending.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>10m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>MemoryPool: Code Cache committed</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=MemoryPool,name=Code Cache&quot;,&quot;Usage.committed&quot;]</key>
                    <history>7d</history>
                    <units>B</units>
                    <description>Current memory allocated</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>10m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>MemoryPool: CodeCache maximum size</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=MemoryPool,name=Code Cache&quot;,&quot;Usage.max&quot;]</key>
                    <history>7d</history>
                    <units>B</units>
                    <description>Maximum amount of memory that can be used for memory management. This amount of memory is not guaranteed to be available if it is greater than the amount of committed memory. The Java virtual machine may fail to allocate memory even if the amount of used memory does not exceed this maximum size.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>MemoryPool: Code Cache used</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=MemoryPool,name=Code Cache&quot;,&quot;Usage.used&quot;]</key>
                    <history>7d</history>
                    <units>B</units>
                    <description>Current memory usage</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>MemoryPool: Tenured Gen committed</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=MemoryPool,name=Tenured Gen&quot;,&quot;Usage.committed&quot;]</key>
                    <history>7d</history>
                    <units>B</units>
                    <description>Current memory allocated</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>10m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>MemoryPool: Tenured Gen maximum size</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=MemoryPool,name=Tenured Gen&quot;,&quot;Usage.max&quot;]</key>
                    <history>7d</history>
                    <units>B</units>
                    <description>Maximum amount of memory that can be used for memory management. This amount of memory is not guaranteed to be available if it is greater than the amount of committed memory. The Java virtual machine may fail to allocate memory even if the amount of used memory does not exceed this maximum size.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>MemoryPool: Tenured Gen used</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=MemoryPool,name=Tenured Gen&quot;,&quot;Usage.used&quot;]</key>
                    <history>7d</history>
                    <units>B</units>
                    <description>Current memory usage</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>OperatingSystem: File descriptors maximum count</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=OperatingSystem&quot;,&quot;MaxFileDescriptorCount&quot;]</key>
                    <history>7d</history>
                    <description>This is the number of file descriptors we can have opened in the same process, as determined by the operating system. You can never have more file descriptors than this number.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>10m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>OperatingSystem: File descriptors opened</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=OperatingSystem&quot;,&quot;OpenFileDescriptorCount&quot;]</key>
                    <history>7d</history>
                    <description>This is the number of opened file descriptors at the moment, if this reaches the MaxFileDescriptorCount, the application will throw an IOException: Too many open files. This could mean you’re are opening file descriptors and never closing them.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>OperatingSystem: Process CPU Load</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=OperatingSystem&quot;,&quot;ProcessCpuLoad&quot;]</key>
                    <history>7d</history>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>ProcessCpuLoad represents the CPU load in this process.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>100</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                    <triggers>
                        <trigger>
                            <expression>{min({$JMX.CPU.LOAD.TIME})}&gt;{$JMX.CPU.LOAD.MAX}</expression>
                            <name>OperatingSystem: Process CPU Load more than {$JMX.CPU.LOAD.MAX}% for {$JMX.CPU.LOAD.TIME}</name>
                            <priority>AVERAGE</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Runtime: JVM uptime</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=Runtime&quot;,&quot;Uptime&quot;]</key>
                    <history>7d</history>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>0.001</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                    <triggers>
                        <trigger>
                            <expression>{nodata(5m)}=1</expression>
                            <name>Runtime: JVM is not reachable</name>
                            <priority>AVERAGE</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Runtime: JVM name</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=Runtime&quot;,&quot;VmName&quot;]</key>
                    <delay>1h</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>30m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                    <triggers>
                        <trigger>
                            <expression>{str(Server)}&lt;&gt;1</expression>
                            <name>Runtime: {HOST.NAME} runs suboptimal VM type</name>
                            <priority>INFO</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Runtime: JVM version</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=Runtime&quot;,&quot;VmVersion&quot;]</key>
                    <delay>1h</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>30m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>Threading: Daemon thread count</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=Threading&quot;,&quot;DaemonThreadCount&quot;]</key>
                    <history>7d</history>
                    <description>Number of daemon threads running.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <params>10m</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>Threading: Peak thread count</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=Threading&quot;,&quot;PeakThreadCount&quot;]</key>
                    <history>7d</history>
                    <description>Maximum number of threads being executed at the same time since the JVM was started or the peak was reset.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>Threading: Thread count</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=Threading&quot;,&quot;ThreadCount&quot;]</key>
                    <history>7d</history>
                    <description>The number of threads running at the current moment.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>Threading: Total started thread count</name>
                    <type>JMX</type>
                    <key>jmx[&quot;java.lang:type=Threading&quot;,&quot;TotalStartedThreadCount&quot;]</key>
                    <history>7d</history>
                    <description>The number of threads started since the JVM was launched.</description>
                    <applications>
                        <application>
                            <name>JMX</name>
                        </application>
                    </applications>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$JMX.CPU.LOAD.MAX}</macro>
                    <value>85</value>
                    <description>A threshold in percent for CPU utilization trigger.</description>
                </macro>
                <macro>
                    <macro>{$JMX.CPU.LOAD.TIME}</macro>
                    <value>5m</value>
                    <description>The time during which the CPU utilization may exceed the threshold.</description>
                </macro>
                <macro>
                    <macro>{$JMX.FILE.DESCRIPTORS.MAX}</macro>
                    <value>85</value>
                    <description>A threshold in percent for file descriptors count trigger.</description>
                </macro>
                <macro>
                    <macro>{$JMX.FILE.DESCRIPTORS.TIME}</macro>
                    <value>3m</value>
                    <description>The time during which the file descriptors count may exceed the threshold.</description>
                </macro>
                <macro>
                    <macro>{$JMX.HEAP.MEM.USAGE.MAX}</macro>
                    <value>85</value>
                    <description>A threshold in percent for Heap memory utilization trigger.</description>
                </macro>
                <macro>
                    <macro>{$JMX.HEAP.MEM.USAGE.TIME}</macro>
                    <value>10m</value>
                    <description>The time during which the Heap memory utilization may exceed the threshold.</description>
                </macro>
                <macro>
                    <macro>{$JMX.MP.USAGE.MAX}</macro>
                    <value>85</value>
                    <description>A threshold in percent for memory pools utilization trigger. Use a context to change the threshold for a specific pool.</description>
                </macro>
                <macro>
                    <macro>{$JMX.MP.USAGE.TIME}</macro>
                    <value>10m</value>
                    <description>The time during which the memory pools utilization may exceed the threshold.</description>
                </macro>
                <macro>
                    <macro>{$JMX.NONHEAP.MEM.USAGE.MAX}</macro>
                    <value>85</value>
                    <description>A threshold in percent for Non-heap memory utilization trigger.</description>
                </macro>
                <macro>
                    <macro>{$JMX.NONHEAP.MEM.USAGE.TIME}</macro>
                    <value>10m</value>
                    <description>The time during which the Non-heap memory utilization may exceed the threshold.</description>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template-Training_Examples-Items</template>
            <name>Template-Training_Examples-Items</name>
            <groups>
                <group>
                    <name>Templates/Training</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Examples of item types</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Date - command over Zabbix server</name>
                    <type>EXTERNAL</type>
                    <key>date.sh</key>
                    <delay>30</delay>
                    <history>1d</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Zabbix DB size</name>
                    <type>ODBC</type>
                    <key>db.odbc.select[zabbix.dbsize,zabbix]</key>
                    <units>B</units>
                    <params>select SUM(data_length) from information_schema.tables where table_schema = 'zabbix'</params>
                    <username>zbx_probe</username>
                    <password>{$ZBX_PROBE_MYSQL_PASS}</password>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Ping to the server (ICMP loss)</name>
                    <type>SIMPLE</type>
                    <key>icmppingloss[,5,1000,99,3000]</key>
                    <delay>30</delay>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Java VM uptime</name>
                    <type>JMX</type>
                    <key>jmx[java.lang:type=Runtime,Uptime]</key>
                    <delay>30</delay>
                    <value_type>FLOAT</value_type>
                    <units>s</units>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>0.001</params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint>
                </item>
                <item>
                    <name>Zabbix Server - log</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>log[/var/log/zabbix/zabbix_server.log,,,5,skip]</key>
                    <delay>30</delay>
                    <history>1d</history>
                    <trends>0</trends>
                    <value_type>LOG</value_type>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Ping to the server (TCP)</name>
                    <type>SIMPLE</type>
                    <key>net.tcp.service[tcp,,10050]</key>
                    <delay>60</delay>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>Service state</name>
                    </valuemap>
                </item>
                <item>
                    <name>Date - command over SSH</name>
                    <type>SSH</type>
                    <key>ssh.run[ssh.date]</key>
                    <delay>60</delay>
                    <history>1d</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <params>/bin/date</params>
                    <username>zbx_probe</username>
                    <password>{$SSH_USER_PASS}</password>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>CPU load</name>
                    <key>system.cpu.load[,avg15]</key>
                    <delay>30</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>CPU util</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>system.cpu.util[,,avg15]</key>
                    <delay>30</delay>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>VMware version</name>
                    <type>SIMPLE</type>
                    <key>vmware.version[https://10.2.0.23/sdk]</key>
                    <history>1d</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <username>zbx_probe</username>
                    <password>ZBXlab00</password>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Zabbix agent availability</name>
                    <type>INTERNAL</type>
                    <key>zabbix[host,agent,available]</key>
                    <history>1d</history>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>Host availability status</name>
                    </valuemap>
                </item>
                <item>
                    <name>Zabbix Server - count of unsupported items</name>
                    <type>INTERNAL</type>
                    <key>zabbix[items_unsupported]</key>
                    <delay>30</delay>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Date - minute</name>
                    <key>zbx.cmd.date[M]</key>
                    <delay>30</delay>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                    <triggers>
                        <trigger>
                            <expression>{last(0)}&gt;45 and {last(0)}&lt;50</expression>
                            <name>Minute is &gt;45 and &lt;50</name>
                            <priority>HIGH</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Random number</name>
                    <key>zbx.cmd.random</key>
                    <delay>30</delay>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Date - sent by zabbix_sender utility</name>
                    <type>TRAP</type>
                    <key>zbx.date.trapper</key>
                    <delay>0</delay>
                    <history>1d</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Get page www.datascript.cz</name>
                    <type>HTTP_AGENT</type>
                    <key>zbx.http</key>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                    <url>https://www.datascript.cz/</url>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$SSH_USER_PASS}</macro>
                    <type>SECRET_TEXT</type>
                    <description>User pass zbx_probe (cat /root/zbx_probe.pw)</description>
                </macro>
                <macro>
                    <macro>{$ZBX_PROBE_MYSQL_PASS}</macro>
                    <type>SECRET_TEXT</type>
                    <description>MySQL user pass zbx_probe (cat /root/mysql-zbx_probe.pw)</description>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template-Training_Examples-Windows</template>
            <name>Template-Training_Examples-Windows</name>
            <groups>
                <group>
                    <name>Templates/Training</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Examples of item types</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>ICMP loss</name>
                    <type>SIMPLE</type>
                    <key>icmppingloss[,5,1000,99,3000]</key>
                    <delay>300</delay>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>WindowsPerformanceCounter - $1</name>
                    <key>perf_counter[\Memory\Pages Output/sec]</key>
                    <delay>300</delay>
                    <history>1d</history>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>WindowsPerformanceCounter - $1</name>
                    <key>perf_counter[\PhysicalDisk(_Total)\Avg. Disk Read Queue Length]</key>
                    <delay>300</delay>
                    <history>1d</history>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Services not running</name>
                    <key>services[automatic,stopped,&quot;exceptions&quot;]</key>
                    <delay>300</delay>
                    <history>1d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Service state - $1</name>
                    <key>service_state[Zabbix Agent]</key>
                    <delay>300</delay>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>Windows service state</name>
                    </valuemap>
                </item>
                <item>
                    <name>CPU load</name>
                    <key>system.cpu.load[,avg15]</key>
                    <delay>300</delay>
                    <value_type>FLOAT</value_type>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>CPU util</name>
                    <key>system.cpu.util[,,avg15]</key>
                    <delay>300</delay>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <applications>
                        <application>
                            <name>Examples of item types</name>
                        </application>
                    </applications>
                </item>
            </items>
        </template>
        <template>
            <template>Template-Training_MySQL_Service_Active</template>
            <name>Template-Training_MySQL_Service_Active</name>
            <groups>
                <group>
                    <name>Templates/Training</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>MySQL</name>
                </application>
            </applications>
            <discovery_rules>
                <discovery_rule>
                    <name>MySQL instance discovery</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>mysql.discovery</key>
                    <delay>60</delay>
                    <lifetime>1d</lifetime>
                    <description>auto discovery mysql instance port</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>MySQL status</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.ping[{#MYSQLHOST},{#MYSQLPORT}]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>Service state</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=0</expression>
                                    <name>MySQL is down</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL bytes received per second</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Bytes_received]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>Bps</units>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL bytes sent per second</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Bytes_sent]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>Bps</units>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL begin operations per second</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_begin]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>qps</units>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL commit operations per second</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_commit]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>qps</units>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL delete operations per second</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_delete]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>qps</units>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL insert operations per second</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_insert]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>qps</units>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL rollback operations per second</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_rollback]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>qps</units>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL select operations per second</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_select]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>qps</units>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL update operations per second</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_update]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>qps</units>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL max used connections</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Max_used_connections]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL QPS</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Questions]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>qps</units>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL slow queries</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Slow_queries]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL threads connected</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Threads_connected]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL TPS</name>
                            <type>CALCULATED</type>
                            <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},tps]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <value_type>FLOAT</value_type>
                            <units>tps</units>
                            <params>last(&quot;mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_commit]&quot;)+last(&quot;mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_rollback]&quot;)</params>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL uptime</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Uptime]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <units>uptime</units>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL version</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.version[{#MYSQLHOST},{#MYSQLPORT}]</key>
                            <delay>3600</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <applications>
                                <application>
                                    <name>MySQL</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>MySQL bandwidth {#MYSQLHOST}:{#MYSQLPORT}</name>
                            <graph_items>
                                <graph_item>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>00AA00</color>
                                    <item>
                                        <host>Template-Training_MySQL_Service_Active</host>
                                        <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Bytes_received]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <color>3333FF</color>
                                    <item>
                                        <host>Template-Training_MySQL_Service_Active</host>
                                        <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Bytes_sent]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                        <graph_prototype>
                            <name>MySQL connection {#MYSQLHOST}:{#MYSQLPORT}</name>
                            <graph_items>
                                <graph_item>
                                    <color>00C800</color>
                                    <item>
                                        <host>Template-Training_MySQL_Service_Active</host>
                                        <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Threads_connected]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <color>C80000</color>
                                    <item>
                                        <host>Template-Training_MySQL_Service_Active</host>
                                        <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Max_used_connections]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                        <graph_prototype>
                            <name>MySQL operations {#MYSQLHOST}:{#MYSQLPORT}</name>
                            <graph_items>
                                <graph_item>
                                    <color>C8C800</color>
                                    <item>
                                        <host>Template-Training_MySQL_Service_Active</host>
                                        <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_begin]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <color>006400</color>
                                    <item>
                                        <host>Template-Training_MySQL_Service_Active</host>
                                        <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_commit]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>2</sortorder>
                                    <color>C80000</color>
                                    <item>
                                        <host>Template-Training_MySQL_Service_Active</host>
                                        <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_delete]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>3</sortorder>
                                    <color>0000EE</color>
                                    <item>
                                        <host>Template-Training_MySQL_Service_Active</host>
                                        <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_insert]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>4</sortorder>
                                    <color>640000</color>
                                    <item>
                                        <host>Template-Training_MySQL_Service_Active</host>
                                        <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_rollback]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>5</sortorder>
                                    <color>00C800</color>
                                    <item>
                                        <host>Template-Training_MySQL_Service_Active</host>
                                        <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_select]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>6</sortorder>
                                    <color>C800C8</color>
                                    <item>
                                        <host>Template-Training_MySQL_Service_Active</host>
                                        <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Com_update]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                        <graph_prototype>
                            <name>MySQL QPS / TPS {#MYSQLHOST}:{#MYSQLPORT}</name>
                            <graph_items>
                                <graph_item>
                                    <color>00C800</color>
                                    <item>
                                        <host>Template-Training_MySQL_Service_Active</host>
                                        <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},Questions]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <color>C80000</color>
                                    <item>
                                        <host>Template-Training_MySQL_Service_Active</host>
                                        <key>mysql.status[{#MYSQLHOST},{#MYSQLPORT},tps]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
            </discovery_rules>
        </template>
        <template>
            <template>Template-Training_MySQL_Service_Slave</template>
            <name>Template-Training_MySQL_Service_Slave</name>
            <groups>
                <group>
                    <name>Templates/Training</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>MySQL slave</name>
                </application>
            </applications>
            <discovery_rules>
                <discovery_rule>
                    <name>MySQL slave instance discovery</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>mysql.slave.discovery</key>
                    <delay>3600</delay>
                    <lifetime>7d</lifetime>
                    <description>auto discovery mysql slave instance port</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>MySQL slave seconds behind master</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.slave.status[{#MYSQLSLAVEHOST},{#MYSQLSLAVEPORT},Seconds_Behind_Master]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>3650d</trends>
                            <units>second</units>
                            <description>The number of seconds that the slave SQL thread is behind processing the master binary log.</description>
                            <applications>
                                <application>
                                    <name>MySQL slave</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL slave I/O thread</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.slave.status[{#MYSQLSLAVEHOST},{#MYSQLSLAVEPORT},Slave_IO_Running]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>MySQL slave</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL slave SQL thread</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.slave.status[{#MYSQLSLAVEHOST},{#MYSQLSLAVEPORT},Slave_SQL_Running]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>MySQL slave</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>MySQL slave status</name>
                            <type>ZABBIX_ACTIVE</type>
                            <key>mysql.status[{#MYSQLSLAVEHOST},{#MYSQLSLAVEPORT},Slave_running]</key>
                            <delay>60</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>MySQL slave</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{strlen()}&lt;&gt;2</expression>
                                    <name>MySQL Slave is down</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>MySQL slave behind master {#MYSQLSLAVEHOST}:{#MYSQLSLAVEPORT}</name>
                            <graph_items>
                                <graph_item>
                                    <color>00C800</color>
                                    <item>
                                        <host>Template-Training_MySQL_Service_Slave</host>
                                        <key>mysql.slave.status[{#MYSQLSLAVEHOST},{#MYSQLSLAVEPORT},Seconds_Behind_Master]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$MYSQL_HOST}</macro>
                    <value>127.0.0.1</value>
                </macro>
            </macros>
        </template>
        <template>
            <template>Template-Training_SNMPv2c-Base</template>
            <name>Template-Training_SNMPv2c-Base</name>
            <groups>
                <group>
                    <name>Templates/Training</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>SNMP Base</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Ping to the device (ICMP loss)</name>
                    <type>SIMPLE</type>
                    <key>icmppingloss[,5,1000,999,3000]</key>
                    <delay>60</delay>
                    <history>10d</history>
                    <trends>1500d</trends>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <applications>
                        <application>
                            <name>SNMP Base</name>
                        </application>
                    </applications>
                    <triggers>
                        <trigger>
                            <expression>{min(150)}=100</expression>
                            <name>Zarizeni je nedostupne po siti</name>
                            <priority>HIGH</priority>
                            <description>Zarizeni neodpovida na ICMP ping. Overte sitovou dostupnost zarizeni.</description>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>System_Descr</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.1.0</snmp_oid>
                    <key>system.descr</key>
                    <delay>14400</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <applications>
                        <application>
                            <name>SNMP Base</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>System_Name</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.5.0</snmp_oid>
                    <key>system.name</key>
                    <delay>14400</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <applications>
                        <application>
                            <name>SNMP Base</name>
                        </application>
                    </applications>
                    <triggers>
                        <trigger>
                            <expression>{diff(0)}&gt;0</expression>
                            <name>Jmeno zarizeni bylo zmeneno</name>
                            <priority>INFO</priority>
                            <description>Upozorneni na zmenu SNMP sysName zarizeni.</description>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>System_Uptime</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.2.1.1.3.0</snmp_oid>
                    <key>system.uptime</key>
                    <delay>60</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <units>s</units>
                    <applications>
                        <application>
                            <name>SNMP Base</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>0.01</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{last(0)}&lt;900 and {last(#10)}&lt;42948900</expression>
                            <name>Zarizeni bylo restartovano</name>
                            <priority>INFO</priority>
                            <description>Uptime zarizeni indikuje jeho restart. 42948900</description>
                        </trigger>
                        <trigger>
                            <expression>{nodata(900)}=1</expression>
                            <name>Zarizeni je nedostupne pro monitoring</name>
                            <priority>AVERAGE</priority>
                            <description>SNMP data ze zarizeni nejsou dostupna dele nez 15 minut.</description>
                            <dependencies>
                                <dependency>
                                    <name>Zarizeni je nedostupne po siti</name>
                                    <expression>{Template-Training_SNMPv2c-Base:icmppingloss[,5,1000,999,3000].min(150)}=100</expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                    </triggers>
                </item>
            </items>
        </template>
        <template>
            <template>Template-Training_SNMPv2c-Interfaces</template>
            <name>Template-Training_SNMPv2c-Interfaces</name>
            <groups>
                <group>
                    <name>Templates/Training</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Network Interfaces</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Registered number of network interfaces</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.2.1.2.1.0</snmp_oid>
                    <key>ifNumber</key>
                    <delay>60</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <description>The number of network interfaces (regardless of their current state) present on this system.</description>
                    <applications>
                        <application>
                            <name>Network Interfaces</name>
                        </application>
                    </applications>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>Network interfaces</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},IF-MIB::ifDescr]</snmp_oid>
                    <key>ifDescr</key>
                    <delay>60</delay>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#SNMPVALUE}</macro>
                                <value>^e</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>1d</lifetime>
                    <description>You may also consider using {#SNMPVALUE} macro to filter results.&#13;
&#13;
{$SNMP_COMMUNITY} is a global macro.</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Admin status of $1</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>ifAdminStatus.{#SNMPINDEX}</snmp_oid>
                            <key>ifAdminStatus[{#SNMPVALUE}]</key>
                            <delay>60;50/1-7,00:00-24:00</delay>
                            <history>10d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <description>The desired state of the interface.</description>
                            <applications>
                                <application>
                                    <name>Network Interfaces</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Description of $1</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>ifDescr.{#SNMPINDEX}</snmp_oid>
                            <key>ifDescr[{#SNMPVALUE}]</key>
                            <delay>3600;50/1-7,00:00-24:00</delay>
                            <history>10d</history>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <description>A textual string containing information about the interface.  This string should include the name of the manufacturer, the product name and the version of the interface hardware/software.</description>
                            <applications>
                                <application>
                                    <name>Network Interfaces</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Inbound errors on $1</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>ifInErrors.{#SNMPINDEX}</snmp_oid>
                            <key>ifInErrors[{#SNMPVALUE}]</key>
                            <delay>60;50/1-7,00:00-24:00</delay>
                            <history>10d</history>
                            <trends>1500d</trends>
                            <status>DISABLED</status>
                            <description>For packet-oriented interfaces, the number of inbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of inbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol.</description>
                            <applications>
                                <application>
                                    <name>Network Interfaces</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Incoming traffic on $1</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>ifInOctets.{#SNMPINDEX}</snmp_oid>
                            <key>ifInOctets[{#SNMPVALUE}]</key>
                            <delay>60;50/1-7,00:00-24:00</delay>
                            <history>10d</history>
                            <trends>1500d</trends>
                            <units>bps</units>
                            <description>The number of octets in valid MAC frames received on this interface, including the MAC header and FCS.</description>
                            <applications>
                                <application>
                                    <name>Network Interfaces</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>8</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Operational status of $1</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>ifOperStatus.{#SNMPINDEX}</snmp_oid>
                            <key>ifOperStatus[{#SNMPVALUE}]</key>
                            <delay>60;50/1-7,00:00-24:00</delay>
                            <history>10d</history>
                            <trends>0</trends>
                            <status>DISABLED</status>
                            <description>The current operational state of the interface.</description>
                            <applications>
                                <application>
                                    <name>Network Interfaces</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{diff(0)}=1</expression>
                                    <name>Operational status changed on interface {#SNMPVALUE}</name>
                                    <priority>WARNING</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Outbound discards on $1</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>ifOutDiscards.{#SNMPINDEX}</snmp_oid>
                            <key>ifOutDiscards[{#SNMPVALUE}]</key>
                            <delay>60;50/1-7,00:00-24:00</delay>
                            <history>10d</history>
                            <trends>1500d</trends>
                            <status>DISABLED</status>
                            <description>The number of outbound packets which were chosen to be discarded even though no errors had been detected to prevent their being transmitted.  One possible reason for discarding such a packet could be to free up buffer space.</description>
                            <applications>
                                <application>
                                    <name>Network Interfaces</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Outbound errors on $1</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>ifOutErrors.{#SNMPINDEX}</snmp_oid>
                            <key>ifOutErrors[{#SNMPVALUE}]</key>
                            <delay>60;50/1-7,00:00-24:00</delay>
                            <history>10d</history>
                            <trends>1500d</trends>
                            <status>DISABLED</status>
                            <description>For packet-oriented interfaces, the number of outbound packets that could not be transmitted because of errors. For character-oriented or fixed-length interfaces, the number of outbound transmission units that could not be transmitted because of errors.</description>
                            <applications>
                                <application>
                                    <name>Network Interfaces</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Outgoing traffic on $1</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>ifOutOctets.{#SNMPINDEX}</snmp_oid>
                            <key>ifOutOctets[{#SNMPVALUE}]</key>
                            <delay>60;50/1-7,00:00-24:00</delay>
                            <history>10d</history>
                            <trends>1500d</trends>
                            <units>bps</units>
                            <description>The number of octets transmitted in MAC frames on this interface, including the MAC header and FCS.</description>
                            <applications>
                                <application>
                                    <name>Network Interfaces</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Type of interface $1</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>ifType.{#SNMPINDEX}</snmp_oid>
                            <key>ifType[{#SNMPVALUE}]</key>
                            <delay>3600;50/1-7,00:00-24:00</delay>
                            <history>10d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>Network Interfaces</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>Network traffic on {#SNMPVALUE}</name>
                            <ymin_type_1>FIXED</ymin_type_1>
                            <graph_items>
                                <graph_item>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>00AA00</color>
                                    <item>
                                        <host>Template-Training_SNMPv2c-Interfaces</host>
                                        <key>ifInOctets[{#SNMPVALUE}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>3333FF</color>
                                    <item>
                                        <host>Template-Training_SNMPv2c-Interfaces</host>
                                        <key>ifOutOctets[{#SNMPVALUE}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
            </discovery_rules>
        </template>
    </templates>
    <triggers>
        <trigger>
            <expression>{Template-Training_App_Generic_Java_JMX:jmx[&quot;java.lang:type=GarbageCollector,name=MarkSweepCompact&quot;,&quot;CollectionCount&quot;].last()}&gt;{Template-Training_App_Generic_Java_JMX:jmx[&quot;java.lang:type=GarbageCollector,name=Copy&quot;,&quot;CollectionCount&quot;].last()}</expression>
            <name>GarbageCollector: Mark Sweep Compact in fire fighting mode</name>
            <priority>AVERAGE</priority>
        </trigger>
        <trigger>
            <expression>{Template-Training_App_Generic_Java_JMX:jmx[&quot;java.lang:type=Memory&quot;,&quot;HeapMemoryUsage.used&quot;].min({$JMX.HEAP.MEM.USAGE.TIME})}&gt;({Template-Training_App_Generic_Java_JMX:jmx[&quot;java.lang:type=Memory&quot;,&quot;HeapMemoryUsage.max&quot;].last()}*{$JMX.HEAP.MEM.USAGE.MAX}/100)</expression>
            <name>Memory: Heap memory usage more than {$JMX.HEAP.USAGE.MAX}% for {$JMX.HEAP.MEM.USAGE.TIME}</name>
            <priority>WARNING</priority>
        </trigger>
        <trigger>
            <expression>{Template-Training_App_Generic_Java_JMX:jmx[&quot;java.lang:type=MemoryPool,name=Code Cache&quot;,&quot;Usage.used&quot;].min({$JMX.MP.USAGE.TIME:&quot;Code Cache&quot;})}&gt;({Template-Training_App_Generic_Java_JMX:jmx[&quot;java.lang:type=MemoryPool,name=Code Cache&quot;,&quot;Usage.max&quot;].last()}*{$JMX.MP.USAGE.MAX:&quot;Code Cache&quot;}/100)</expression>
            <name>MemoryPool: Code Cache memory usage more than {$JMX.MP.USAGE.MAX:&quot;Code Cache&quot;}% for {$JMX.MP.USAGE.TIME:&quot;Code Cache&quot;}</name>
            <priority>WARNING</priority>
        </trigger>
        <trigger>
            <expression>{Template-Training_App_Generic_Java_JMX:jmx[&quot;java.lang:type=MemoryPool,name=Tenured Gen&quot;,&quot;Usage.used&quot;].min({$JMX.MP.USAGE.TIME:&quot;Tenured Gen&quot;})}&gt;({Template-Training_App_Generic_Java_JMX:jmx[&quot;java.lang:type=MemoryPool,name=Tenured Gen&quot;,&quot;Usage.max&quot;].last()}*{$JMX.MP.USAGE.MAX:&quot;Tenured Gen&quot;}/100)</expression>
            <name>MemoryPool: Tenured Gen memory usage more than {$JMX.MP.USAGE.MAX:&quot;Tenured Gen&quot;}% for {$JMX.MP.USAGE.TIME:&quot;Tenured Gen&quot;}</name>
            <priority>WARNING</priority>
        </trigger>
        <trigger>
            <expression>{Template-Training_App_Generic_Java_JMX:jmx[&quot;java.lang:type=OperatingSystem&quot;,&quot;OpenFileDescriptorCount&quot;].min({$JMX.FILE.DESCRIPTORS.TIME})}&gt;({Template-Training_App_Generic_Java_JMX:jmx[&quot;java.lang:type=OperatingSystem&quot;,&quot;MaxFileDescriptorCount&quot;].last()}*{$JMX.FILE.DESCRIPTORS.MAX}/100)</expression>
            <name>OperatingSystem: Opened file descriptor count more than {$JMX.FILE.DESCRIPTORS.MAX}% of maximum</name>
            <priority>WARNING</priority>
        </trigger>
    </triggers>
    <graphs>
        <graph>
            <name>ClassLoading: Class Loader</name>
            <graph_items>
                <graph_item>
                    <color>1A7C11</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=ClassLoading&quot;,&quot;TotalLoadedClassCount&quot;]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>2774A4</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=ClassLoading&quot;,&quot;UnloadedClassCount&quot;]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>F63100</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=ClassLoading&quot;,&quot;LoadedClassCount&quot;]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>GarbageCollector: Garbage Collector collections per second</name>
            <graph_items>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>2774A4</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=GarbageCollector,name=Copy&quot;,&quot;CollectionCount&quot;]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>3</sortorder>
                    <color>A54F10</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=GarbageCollector,name=MarkSweepCompact&quot;,&quot;CollectionCount&quot;]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>MemoryPool: Memory Pool Code Cache</name>
            <graph_items>
                <graph_item>
                    <color>1A7C11</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=MemoryPool,name=Code Cache&quot;,&quot;Usage.max&quot;]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>2774A4</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=MemoryPool,name=Code Cache&quot;,&quot;Usage.committed&quot;]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>F63100</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=MemoryPool,name=Code Cache&quot;,&quot;Usage.used&quot;]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>MemoryPool: Memory Pool Tenured Gen</name>
            <graph_items>
                <graph_item>
                    <color>1A7C11</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=MemoryPool,name=Tenured Gen&quot;,&quot;Usage.max&quot;]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>2774A4</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=MemoryPool,name=Tenured Gen&quot;,&quot;Usage.committed&quot;]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>F63100</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=MemoryPool,name=Tenured Gen&quot;,&quot;Usage.used&quot;]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>OperatingSystem: File Descriptors</name>
            <graph_items>
                <graph_item>
                    <color>1A7C11</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=OperatingSystem&quot;,&quot;MaxFileDescriptorCount&quot;]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>2774A4</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=OperatingSystem&quot;,&quot;OpenFileDescriptorCount&quot;]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>Threading: Threads</name>
            <graph_items>
                <graph_item>
                    <color>1A7C11</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=Threading&quot;,&quot;PeakThreadCount&quot;]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>2774A4</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=Threading&quot;,&quot;DaemonThreadCount&quot;]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>F63100</color>
                    <item>
                        <host>Template-Training_App_Generic_Java_JMX</host>
                        <key>jmx[&quot;java.lang:type=Threading&quot;,&quot;ThreadCount&quot;]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
    </graphs>
    <value_maps>
        <value_map>
            <name>Host availability status</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>Down</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>Up</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>Unknown</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>Service state</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>Down</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>Up</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>Windows service state</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>Running</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>Paused</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>Start pending</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>Pause pending</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>Continue pending</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>Stop pending</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>Stopped</newvalue>
                </mapping>
                <mapping>
                    <value>7</value>
                    <newvalue>Unknown</newvalue>
                </mapping>
                <mapping>
                    <value>255</value>
                    <newvalue>No such service</newvalue>
                </mapping>
            </mappings>
        </value_map>
    </value_maps>
</zabbix_export>
